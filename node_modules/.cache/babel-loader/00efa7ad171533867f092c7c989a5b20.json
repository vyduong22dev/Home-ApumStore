{"ast":null,"code":"var _jsxFileName = \"/Users/vyduong/Documents/HOME_ApumStoreSua/src/containers/Header/index.js\";\nimport React, { Component } from 'react';\nimport { Link, Route } from 'react-router-dom';\nimport MessengerCustomerChat from 'react-messenger-customer-chat';\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport './styles.css';\nimport { faUser } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { assets } from '../../constants/assetsImage';\nimport { withTranslation } from 'react-i18next';\nimport ReactTooltip from 'react-tooltip';\nimport Widget from 'rasa-webchat'; // @Actions\n\nimport AuthorizationActions from '../../redux/actions/auth';\nimport CategoryActions from \"../../redux/actions/categories\";\nimport ProductsActions from '../../redux/actions/products';\nimport NotificationActions from '../../redux/actions/notification';\nimport io from 'socket.io-client'; // @Functions\n\nimport numberWithCommas from '../../utils/formatPrice';\nimport tryConvert from '../../utils/changeMoney';\nimport { toastError, toastInfo } from '../../utils/toastHelper';\nimport { INITIAL_IMAGE } from '../../constants';\nconst ENDPOINT = 'https://be-phonestore.herokuapp.com';\nlet socket = io(ENDPOINT);\n\nclass Header extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChangeCurrency = event => {\n      const {\n        onChangeCurrency\n      } = this.props;\n      this.setState({\n        currencyCode: event.target.value\n      });\n      localStorage.setItem(\"CURRENCY\", event.target.value);\n      onChangeCurrency(event.target.value);\n    };\n\n    this.changeLanguage = event => {\n      const {\n        onChangeLanguage\n      } = this.props;\n      this.setState({\n        language: event.target.value\n      });\n      localStorage.setItem(\"LANGUAGE\", event.target.value);\n      onChangeLanguage(event.target.value);\n      this.props.i18n.changeLanguage(event.target.value);\n    };\n\n    this.setLogout = () => {\n      const {\n        onLogout,\n        history\n      } = this.props;\n      localStorage.removeItem('AUTH_USER');\n      history.push(\"/\");\n      onLogout();\n    };\n\n    this.handleFilter = event => {\n      var target = event.target;\n      var name = target.name;\n      var value = target.value;\n      this.setState({\n        [name]: value\n      });\n      const {\n        onFilter\n      } = this.props;\n      onFilter({\n        keyword: value\n      });\n    };\n\n    this.pressSearch = event => {\n      const {\n        keyword\n      } = this.state;\n      const {\n        history,\n        t\n      } = this.props;\n\n      if (event.key === 'Enter') {\n        if (keyword === \"\") return toastError(t(\"header.toastify.search\"));\n        history.push(`/#/search?keyword=${keyword}`);\n        window.location.reload();\n      }\n    };\n\n    this.searchKeyWorld = () => {\n      const {\n        keyword\n      } = this.state;\n      const {\n        history,\n        t\n      } = this.props;\n      if (keyword === \"\") return toastError(t(\"header.toastify.search\"));\n      history.push(`/#/search?keyword=${keyword}`);\n      window.location.reload();\n    };\n\n    this.sortNotification = listNotification => {\n      const {\n        t\n      } = this.props;\n      var order = [];\n      var ad = [];\n      var installment = [];\n      listNotification.map(item => {\n        if (item.type === 0) {\n          order.push(item);\n        } else if (item.type === 1) {\n          ad.push(item);\n        } else {\n          installment.push(item);\n        }\n      });\n      return /*#__PURE__*/React.createElement(React.Fragment, null, order.length > 0 && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h4\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 9\n        }\n      }, t('header.toastify.cart.first')), order.map((notification, index) => {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"row\",\n          key: index,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-3\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          className: \"w-100 rounded\",\n          src: notification.image ? notification.image.public_url : INITIAL_IMAGE,\n          alt: index,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 13\n          }\n        })), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-9\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(\"p\", {\n          className: \"mb-0\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 9\n          }\n        }, notification.name)));\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"my-2 border-bottom\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 9\n        }\n      })), ad.length > 0 && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h4\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 9\n        }\n      }, t('header.promotion.menu')), /*#__PURE__*/React.createElement(React.Fragment, null, ad.map((notification, index) => {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"row\",\n          key: index,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-3\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          className: \"w-100 rounded\",\n          src: notification.image ? notification.image.public_url : INITIAL_IMAGE,\n          alt: index,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 13\n          }\n        })), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-9\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(\"p\", {\n          className: \"mb-0\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 9\n          }\n        }, notification.name)));\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        div: true,\n        className: \"my-2 border-bottom\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 9\n        }\n      })), installment.length > 0 && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h4\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 9\n        }\n      }, t('header.installment.menu')), installment.map((notification, index) => {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"row\",\n          key: index,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-3\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          className: \"w-100 rounded\",\n          src: notification.image ? notification.image.public_url : INITIAL_IMAGE,\n          alt: index,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 13\n          }\n        })), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-9\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(\"p\", {\n          className: \"mb-0\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 9\n          }\n        }, notification.name)));\n      })));\n    };\n\n    this.onReload = () => {\n      this.setState({\n        edit: false\n      });\n      setTimeout(() => {\n        window.location.reload(false);\n      }, 500);\n    };\n\n    this.state = {\n      total: 0,\n      totalPrice: 0,\n      currencyCode: localStorage.getItem(\"CURRENCY\") || \"VND\",\n      language: localStorage.getItem(\"LANGUAGE\") || \"en\",\n      keyword: \"\",\n      itemsCount: 0,\n      status: -1,\n      order: \"\",\n      installment: \"\",\n      edit: false\n    };\n    this.handleChangeCurrency = this.handleChangeCurrency.bind(this);\n  }\n\n  componentDidMount() {\n    const {\n      language\n    } = this.state;\n    const {\n      onGetProfile,\n      onGetListCategory\n    } = this.props;\n    const token = localStorage.getItem('AUTH_USER');\n    onGetProfile(null, token);\n    onGetListCategory({\n      accessories: -1\n    });\n    this.props.i18n.changeLanguage(language);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    var total = 0;\n    var totalPrice = 0;\n    const {\n      cart,\n      onGetNewestNotifications,\n      totalNotification,\n      userInfo,\n      t\n    } = this.props;\n    const {\n      itemsCount,\n      order,\n      installment,\n      status,\n      type\n    } = this.state;\n\n    if (cart !== prevProps.cart) {\n      for (let i = 0; i < cart.length; i++) {\n        total = total + cart[i].quantity;\n        totalPrice = totalPrice + cart[i].quantity * cart[i].product.colors.find(item => item._id === cart[i].color).price;\n      }\n\n      this.setState({\n        total,\n        totalPrice\n      });\n    }\n\n    if (userInfo !== prevProps.userInfo && userInfo) {\n      var user = userInfo._id;\n      onGetNewestNotifications({\n        user,\n        limit: 5,\n        page: 0\n      });\n    }\n\n    if (totalNotification !== prevProps.totalNotification) {\n      this.setState({\n        itemsCount: totalNotification\n      });\n    }\n\n    if (userInfo) {\n      socket.on(`order_${userInfo._id}`, res => {\n        this.setState({\n          itemsCount: itemsCount + 1,\n          status: res.status,\n          order: res.order,\n          type: 0\n        });\n      });\n      socket.on(`installment_${userInfo._id}`, res => {\n        this.setState({\n          itemsCount: itemsCount + 1,\n          status: res.status,\n          installment: res.installment,\n          type: 2\n        });\n      });\n    }\n\n    if (itemsCount !== prevState.itemsCount && itemsCount > totalNotification) {\n      if (type === 2) {\n        toastInfo(`${t('header.toastify.installment.first')} ${installment} ${t('header.toastify.installment.accept')}`);\n        onGetNewestNotifications({\n          user: userInfo._id,\n          limit: 5,\n          page: 0\n        });\n      } else {\n        switch (status) {\n          case 0:\n            toastInfo(`${t('header.toastify.cart.first')} ${order} ${t('header.toastify.cart.export')}`);\n            onGetNewestNotifications({\n              user: userInfo._id,\n              limit: 5,\n              page: 0\n            });\n            break;\n\n          case 1:\n            toastInfo(`${t('header.toastify.cart.first')} ${order} ${t('header.toastify.cart.done')}`);\n            onGetNewestNotifications({\n              user: userInfo._id,\n              limit: 5,\n              page: 0\n            });\n            break;\n\n          default:\n            onGetNewestNotifications({\n              user: userInfo._id,\n              limit: 5,\n              page: 0\n            });\n        }\n      }\n    }\n  }\n\n  render() {\n    const MenuLink = ({\n      label,\n      image,\n      to,\n      activeOnlyWhenExact,\n      onClick,\n      last\n    }) => {\n      return /*#__PURE__*/React.createElement(Route, {\n        path: to,\n        exact: activeOnlyWhenExact,\n        children: ({\n          match\n        }) => {\n          var active = match ? 'active' : '';\n          var border = last ? '' : 'border-right';\n          return /*#__PURE__*/React.createElement(\"li\", {\n            className: `nav-item ${border} ${active}`,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 13\n            }\n          }, /*#__PURE__*/React.createElement(Link, {\n            onClick: onClick,\n            exact: `${activeOnlyWhenExact}`,\n            className: \"nav-link rounded p-1\",\n            to: to,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 15\n            }\n          }, /*#__PURE__*/React.createElement(\"img\", {\n            src: image,\n            alt: \"\",\n            style: {\n              height: '40px'\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 113\n            }\n          }), /*#__PURE__*/React.createElement(\"p\", {\n            className: \"mb-0 float-end ml-2 mr-1 py-2\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 168\n            }\n          }, label)));\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 9\n        }\n      });\n    };\n\n    const {\n      total,\n      totalPrice,\n      currencyCode,\n      language,\n      keyword,\n      itemsCount,\n      edit\n    } = this.state;\n    const {\n      userInfo,\n      isLogin,\n      listCategories,\n      t,\n      listProducts,\n      currency,\n      location,\n      listNotification,\n      cart\n    } = this.props;\n    const notVND = currencyCode === \"VND\" ? numberWithCommas(totalPrice) : numberWithCommas(parseFloat(tryConvert(totalPrice, currencyCode, false)).toFixed(2));\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"header-area\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-8\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"user-menu\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 19\n      }\n    }, userInfo && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"/#/account/detail\",\n      className: \"text-decoration-none\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faUser,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 27\n      }\n    }), \" \", userInfo.firstname, \" \", userInfo.lastname)), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"/#/account/notification\",\n      className: \"text-decoration-none\",\n      \"data-tip\": true,\n      \"data-for\": \"notification\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-bell\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 27\n      }\n    }), \" \", t('header.notification.menu'), itemsCount > 0 && /*#__PURE__*/React.createElement(\"span\", {\n      className: \"notification-count ml-1 pl-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 46\n      }\n    }, itemsCount)), /*#__PURE__*/React.createElement(ReactTooltip, {\n      id: \"notification\",\n      place: \"bottom\",\n      type: \"light\",\n      class: \"shadow-sm bg-white\",\n      effect: \"solid\",\n      getContent: dataTip => {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 31\n          }\n        }, /*#__PURE__*/React.createElement(\"h3\", {\n          className: \"mb-1\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 33\n          }\n        }, t('header.notification.menu')), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"mb-2 border-bottom\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 33\n          }\n        }), listNotification && listNotification.length > 0 ? /*#__PURE__*/React.createElement(React.Fragment, null, this.sortNotification(listNotification)) : /*#__PURE__*/React.createElement(\"div\", {\n          className: \"row\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 35\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-12 text-center\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 35\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"h-120\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 37\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          className: \"h-100\",\n          src: \"https://deo.shopeemobile.com/shopee/shopee-pcmall-live-sg/assets/fa4e2b534c2928596a6deded9c730a21.png\",\n          alt: \"404 not found\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 39\n          }\n        })), /*#__PURE__*/React.createElement(\"p\", {\n          className: \"my-3\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 37\n          }\n        }, t('header.notification.empty')))));\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 25\n      }\n    }))), isLogin === false ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"/user/dang-nhap\",\n      className: \"text-decoration-none\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-sign-in-alt\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 29\n      }\n    }), \" \", t('header.login.button'))), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"/user/dang-ky\",\n      className: \"text-decoration-none\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-user-plus\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 29\n      }\n    }), \" \", t('header.signup.button')))) : /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn-logout\",\n      style: {\n        'outline': 'none'\n      },\n      onClick: () => this.setLogout(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-sign-out-alt\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 133\n      }\n    }), \" \", t('header.logout.button')))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"header-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"list-inline \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      className: \"dropdown dropdown-small\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-money-bill-wave\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"select\", {\n      className: \"select-box\",\n      onChange: this.handleChangeCurrency,\n      value: currencyCode,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"VND\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 23\n      }\n    }, t('header.vnd.select')))), /*#__PURE__*/React.createElement(\"li\", {\n      className: \"dropdown dropdown-small\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-globe-europe\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"select\", {\n      className: \"select-box\",\n      onChange: this.changeLanguage,\n      value: language,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"en\",\n      name: \"language\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 23\n      }\n    }, t('header.english.select')), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"vn\",\n      name: \"language\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 23\n      }\n    }, t('header.vietnamese.select')))))))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"site-branding-area\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-sm-6 col-md-5 col-lg-4 col-xl-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"logo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: assets(\"brand.png\"),\n      alt: \"\",\n      className: \"w-100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 32\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6 col-12 align-self-center py-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group shadow-sm rounded-pill position-relative\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control rounded-pill\",\n      value: keyword,\n      name: \"keyword\",\n      onKeyPress: this.pressSearch,\n      onChange: this.handleFilter,\n      placeholder: t('search.placeholder.input'),\n      onFocus: () => this.setState({\n        edit: true\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-append position-absolute btn-circle\",\n      style: {\n        right: '5px',\n        top: '5px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-danger h-100 rounded-circle p-revert\",\n      onClick: () => this.searchKeyWorld(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-search\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 124\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        position: \"absolute\",\n        width: \"95%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 17\n      }\n    }, listProducts && listProducts.length > 0 && keyword && edit && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card py-2 shadow-sm\",\n      style: {\n        zIndex: 5\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"mb-0 mx-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 21\n      }\n    }, t(\"header.search.recommended\")), listProducts.map((product, index) => {\n      return /*#__PURE__*/React.createElement(Link, {\n        to: `/product/${product.pathseo}.${product._id}`,\n        className: \"text-decoration-none directory rounded p-2 mx-2\",\n        key: index,\n        onClick: () => this.onReload(),\n        style: {\n          textDecoration: 'none'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row text-dark text-decoration-none \",\n        style: {\n          height: \"60px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-3 my-auto\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"img\", {\n        style: {\n          height: \"60px\"\n        },\n        src: product.bigimage.public_url,\n        alt: product.name,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 29\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-9 text-left my-auto\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        className: \"mb-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 27\n        }\n      }, product.name), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"mb-0 smaller text-secondary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 27\n        }\n      }, currency === \"VND\" ? product.price_min : parseFloat(tryConvert(product.price_min, currency, false)).toFixed(2), \" \", currency))));\n    }))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 col-xl-3 align-self-center py-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 374,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"shopping-item rounded-pill shadow-sm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/carts\",\n      className: \"text-decoration-none\",\n      \"data-tip\": true,\n      \"data-for\": \"cart\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 376,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"rounded-circle bg-danger\",\n      style: {\n        padding: \"0.15rem 0.25rem\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-shopping-cart text-white\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 101\n      }\n    })), \" \\xB7 \", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"cart-amunt\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 161\n      }\n    }, notVND ? `${notVND} ${currencyCode}` : \"Empty\"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"product-count\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 378,\n        columnNumber: 21\n      }\n    }, total)), /*#__PURE__*/React.createElement(ReactTooltip, {\n      id: \"cart\",\n      place: \"bottom\",\n      type: \"light\",\n      class: \"shadow-sm bg-white\",\n      effect: \"solid\",\n      getContent: dataTip => /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 381,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        className: \"mb-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 382,\n          columnNumber: 23\n        }\n      }, t('header.cart.button')), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"mb-2 border-bottom\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 23\n        }\n      }), cart && cart.length > 0 ? cart.map((item, index) => {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"row\",\n          key: index,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 386,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-3\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 387,\n            columnNumber: 27\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          className: \"w-100 rounded\",\n          src: item.product.bigimage ? item.product.bigimage.public_url : INITIAL_IMAGE,\n          alt: index,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 388,\n            columnNumber: 27\n          }\n        })), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-9\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 390,\n            columnNumber: 27\n          }\n        }, /*#__PURE__*/React.createElement(\"p\", {\n          className: \"font-weight-bold mb-0\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 391,\n            columnNumber: 23\n          }\n        }, item.product.name), /*#__PURE__*/React.createElement(\"p\", {\n          className: \"mb-0\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 392,\n            columnNumber: 23\n          }\n        }, t('common.color'), \" \", item.product.colors.find(i => i._id === item.color).name_en)));\n      }) : /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 397,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-12 text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 398,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"h-120\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        className: \"h-100\",\n        src: \"https://deo.shopeemobile.com/shopee/shopee-pcmall-live-sg/cart/9bdd8040b334d31946f49e36beaf32db.png\",\n        alt: \"404 not found\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 27\n        }\n      })), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"my-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 402,\n          columnNumber: 25\n        }\n      }, t('header.cart.empty'))))),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 380,\n        columnNumber: 19\n      }\n    })))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mainmenu-area bg-light\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 413,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 414,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 415,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"nav\", {\n      className: \"navbar navbar-expand-sm navbar-light\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 416,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"navbar-toggler d-lg-none\",\n      type: \"button\",\n      \"data-bs-toggle\": \"collapse\",\n      \"data-bs-target\": \"#collapsibleNavId\",\n      \"aria-controls\": \"collapsibleNavId\",\n      \"aria-expanded\": \"false\",\n      \"aria-label\": \"Toggle navigation\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 417,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"navbar-toggler-icon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 419,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"collapse navbar-collapse py-2\",\n      id: \"collapsibleNavId\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 421,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"navbar-nav mr-auto mt-lg-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 422,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(MenuLink, {\n      image: assets(\"online-shop.png\"),\n      label: t('header.home.menu'),\n      to: \"/\",\n      activeOnlyWhenExact: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 423,\n        columnNumber: 21\n      }\n    }), location.hash.indexOf(\"account\") === -1 && listCategories && /*#__PURE__*/React.createElement(React.Fragment, null, listCategories.map((category, index) => {\n      return /*#__PURE__*/React.createElement(MenuLink, {\n        key: index,\n        image: category.image.public_url,\n        label: language === \"vn\" ? category.name : category.name_en,\n        to: `/products/${category.pathseo}.${category._id}`,\n        activeOnlyWhenExact: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 427,\n          columnNumber: 27\n        }\n      });\n    }), /*#__PURE__*/React.createElement(MenuLink, {\n      image: assets(\"module.png\"),\n      label: t('header.accessories.menu'),\n      to: \"/products/accessories\",\n      activeOnlyWhenExact: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 430,\n        columnNumber: 23\n      }\n    }), /*#__PURE__*/React.createElement(MenuLink, {\n      image: assets(\"web-advertising.png\"),\n      last: true,\n      label: t('header.promotion.menu'),\n      to: \"/promotion\",\n      activeOnlyWhenExact: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 431,\n        columnNumber: 23\n      }\n    })), location.hash.indexOf(\"account\") !== -1 && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(MenuLink, {\n      image: assets(\"user-menu.png\"),\n      label: t('header.account.menu'),\n      to: \"/account/detail\",\n      activeOnlyWhenExact: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 434,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(MenuLink, {\n      image: assets(\"paid-search.png\"),\n      label: t('header.order.menu'),\n      to: \"/account/purchase\",\n      activeOnlyWhenExact: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 435,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(MenuLink, {\n      image: assets(\"credit-card-interest.png\"),\n      label: t('header.installment.menu'),\n      to: \"/account/installment\",\n      activeOnlyWhenExact: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 436,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(MenuLink, {\n      image: assets(\"push-notifications.png\"),\n      last: true,\n      label: t('header.notification.menu'),\n      to: \"/account/notification\",\n      activeOnlyWhenExact: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 437,\n        columnNumber: 21\n      }\n    }))))))), /*#__PURE__*/React.createElement(Widget, {\n      socketUrl: \"http://localhost:5005\",\n      socketPath: \"/socket.io/\",\n      customData: {\n        \"language\": \"en\"\n      } // arbitrary custom data. Stay minimal as this will be added to the socket\n      ,\n      title: \"Apum Store - Mobile Shopping Online\",\n      profileAvatar: assets(\"logo_fe.png\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 448,\n        columnNumber: 11\n      }\n    })));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    cart: state.cart,\n    listProducts: state.products.filter,\n    currency: state.currency,\n    userInfo: state.auth.detail,\n    isLogin: state.auth.loggedIn,\n    listCategories: state.categories.list,\n    listNotification: state.notification.detail,\n    totalNotification: state.notification._total\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onFilter: payload => {\n      dispatch(ProductsActions.onFilter(payload));\n    },\n    onGetProfile: (data, headers) => {\n      dispatch(AuthorizationActions.onGetProfile(data, headers));\n    },\n    onLogout: () => {\n      dispatch(AuthorizationActions.onLogout());\n    },\n    onGetListCategory: params => {\n      dispatch(CategoryActions.onGetList(params));\n    },\n    onChangeLanguage: payload => {\n      dispatch(ProductsActions.onChangeLanguage(payload));\n    },\n    onChangeCurrency: unit => {\n      dispatch(ProductsActions.onChangeCurrency(unit));\n    },\n    onGetNewestNotifications: params => {\n      dispatch(NotificationActions.onGetNewest(params));\n    },\n    onUpdateAllNotifications: data => {\n      dispatch(NotificationActions.onUpdateAll(data));\n    }\n  };\n};\n\nconst withConnect = connect(mapStateToProps, mapDispatchToProps);\nexport default compose(withConnect, withTranslation())(Header);","map":{"version":3,"sources":["/Users/vyduong/Documents/HOME_ApumStoreSua/src/containers/Header/index.js"],"names":["React","Component","Link","Route","MessengerCustomerChat","connect","compose","faUser","FontAwesomeIcon","assets","withTranslation","ReactTooltip","Widget","AuthorizationActions","CategoryActions","ProductsActions","NotificationActions","io","numberWithCommas","tryConvert","toastError","toastInfo","INITIAL_IMAGE","ENDPOINT","socket","Header","constructor","props","handleChangeCurrency","event","onChangeCurrency","setState","currencyCode","target","value","localStorage","setItem","changeLanguage","onChangeLanguage","language","i18n","setLogout","onLogout","history","removeItem","push","handleFilter","name","onFilter","keyword","pressSearch","state","t","key","window","location","reload","searchKeyWorld","sortNotification","listNotification","order","ad","installment","map","item","type","length","notification","index","image","public_url","onReload","edit","setTimeout","total","totalPrice","getItem","itemsCount","status","bind","componentDidMount","onGetProfile","onGetListCategory","token","accessories","componentDidUpdate","prevProps","prevState","cart","onGetNewestNotifications","totalNotification","userInfo","i","quantity","product","colors","find","_id","color","price","user","limit","page","on","res","render","MenuLink","label","to","activeOnlyWhenExact","onClick","last","match","active","border","height","isLogin","listCategories","listProducts","currency","notVND","parseFloat","toFixed","firstname","lastname","dataTip","right","top","position","width","zIndex","pathseo","textDecoration","bigimage","price_min","padding","name_en","hash","indexOf","category","mapStateToProps","products","filter","auth","detail","loggedIn","categories","list","_total","mapDispatchToProps","dispatch","payload","data","headers","params","onGetList","unit","onGetNewest","onUpdateAllNotifications","onUpdateAll","withConnect"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Link, Route } from 'react-router-dom'\nimport MessengerCustomerChat from 'react-messenger-customer-chat';\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport './styles.css';\nimport { faUser } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { assets } from '../../constants/assetsImage';\nimport { withTranslation } from 'react-i18next'\nimport ReactTooltip from 'react-tooltip';\nimport Widget from 'rasa-webchat';\n// @Actions\nimport AuthorizationActions from '../../redux/actions/auth'\nimport CategoryActions from \"../../redux/actions/categories\";\nimport ProductsActions from '../../redux/actions/products'\nimport NotificationActions from '../../redux/actions/notification'\nimport io from 'socket.io-client';\n\n// @Functions\nimport numberWithCommas from '../../utils/formatPrice'\nimport tryConvert from '../../utils/changeMoney'\nimport { toastError, toastInfo } from '../../utils/toastHelper';\nimport {INITIAL_IMAGE} from '../../constants';\nconst ENDPOINT = 'https://be-phonestore.herokuapp.com';\nlet socket = io(ENDPOINT);\n\nclass Header extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      total: 0,\n      totalPrice: 0,\n      currencyCode: localStorage.getItem(\"CURRENCY\") || \"VND\",\n      language: localStorage.getItem(\"LANGUAGE\") ||\"en\",\n      keyword: \"\",\n      itemsCount: 0,\n      status: -1,\n      order: \"\",\n      installment: \"\",\n      edit: false\n    }\n    this.handleChangeCurrency = this.handleChangeCurrency.bind(this)\n  }\n  \n  componentDidMount(){\n    const {language} = this.state;\n    const {onGetProfile, onGetListCategory} = this.props;\n    const token = localStorage.getItem('AUTH_USER');\n    onGetProfile(null,token);\n    onGetListCategory({ accessories: -1 });\n    this.props.i18n.changeLanguage(language);\n  }\n\n  handleChangeCurrency = (event) => {\n    const {onChangeCurrency} = this.props;\n    this.setState({\n      currencyCode: event.target.value\n    })\n    localStorage.setItem(\"CURRENCY\", event.target.value)\n    onChangeCurrency(event.target.value);\n  }\n\n  changeLanguage = (event) => {\n    const {onChangeLanguage} = this.props\n    this.setState({ language: event.target.value})\n    localStorage.setItem(\"LANGUAGE\", event.target.value)\n    onChangeLanguage(event.target.value)\n    this.props.i18n.changeLanguage(event.target.value)\n  }\n  \n  componentDidUpdate(prevProps, prevState) {\n    var total = 0;\n    var totalPrice = 0;\n    const { cart, onGetNewestNotifications, totalNotification, userInfo, t } = this.props;\n    const { itemsCount, order, installment, status, type } = this.state;\n    if (cart !== prevProps.cart) {\n      for (let i = 0; i < cart.length; i++) {\n        total = total + cart[i].quantity\n        totalPrice = totalPrice + cart[i].quantity * cart[i].product.colors.find(item=> item._id === cart[i].color).price\n      }\n      this.setState({\n        total,\n        totalPrice\n      })\n    }\n    if (userInfo !== prevProps.userInfo && userInfo) {\n      var user = userInfo._id;\n      onGetNewestNotifications({user, limit: 5, page: 0});\n    }\n    if (totalNotification !== prevProps.totalNotification) {\n      this.setState({itemsCount: totalNotification})\n    }\n    if(userInfo){\n      socket.on(`order_${userInfo._id}`, res => {\n        this.setState({itemsCount: itemsCount + 1, status: res.status, order: res.order, type: 0});\n      });\n      socket.on(`installment_${userInfo._id}`, res => {\n        this.setState({itemsCount: itemsCount + 1, status: res.status, installment: res.installment, type: 2});\n      });\n    }\n    if (itemsCount !== prevState.itemsCount && itemsCount > totalNotification) {\n      if(type === 2){\n        toastInfo(`${t('header.toastify.installment.first')} ${installment} ${t('header.toastify.installment.accept')}`);\n        onGetNewestNotifications({user: userInfo._id, limit: 5, page: 0})\n      }\n      else {\n        switch (status) {\n          case 0:\n            toastInfo(`${t('header.toastify.cart.first')} ${order} ${t('header.toastify.cart.export')}`);\n            onGetNewestNotifications({user: userInfo._id, limit: 5, page: 0})\n            break;\n          case 1:\n            toastInfo(`${t('header.toastify.cart.first')} ${order} ${t('header.toastify.cart.done')}`);\n            onGetNewestNotifications({user: userInfo._id, limit: 5, page: 0})\n            break;\n          default:\n            onGetNewestNotifications({user: userInfo._id, limit: 5, page: 0})\n        }\n      }\n    }\n  }\n\n  setLogout= () => {\n    const {onLogout, history} = this.props;\n    localStorage.removeItem('AUTH_USER')\n    history.push(\"/\")\n    onLogout()\n  }\n\n  handleFilter = (event) => {\n    var target = event.target;\n    var name = target.name;\n    var value = target.value;\n    this.setState({\n      [name]: value\n    })\n    const { onFilter } = this.props;\n    onFilter({keyword: value});\n  }\n\n  pressSearch = (event) => {\n    const { keyword } = this.state;\n    const { history, t } = this.props;\n    if(event.key === 'Enter'){\n      if(keyword === \"\") return toastError(t(\"header.toastify.search\"))\n      history.push(`/#/search?keyword=${keyword}`)\n      window.location.reload()\n    }\n  }\n\n  // Button search\n  searchKeyWorld = () => {\n    const { keyword } = this.state;\n    const { history, t } = this.props;\n    if(keyword === \"\") return toastError(t(\"header.toastify.search\"))\n    history.push(`/#/search?keyword=${keyword}`)\n    window.location.reload()\n  }\n\n  sortNotification = (listNotification) => {\n    const { t } = this.props;\n    var order = [];\n    var ad = [];\n    var installment = [];\n    listNotification.map(item => {\n      if(item.type === 0){\n        order.push(item)\n      }\n      else if(item.type === 1){\n        ad.push(item)\n      }\n      else {\n        installment.push(item)\n      }\n    })\n    return (<>\n      {order.length > 0 && <>\n        <h4>{t('header.toastify.cart.first')}</h4>\n        {order.map((notification, index)=>{\n          return(\n          <div className=\"row\" key={index}>\n            <div className=\"col-3\">\n            <img className=\"w-100 rounded\" src={notification.image ? notification.image.public_url : INITIAL_IMAGE} alt={index}></img>\n            </div>\n            <div className=\"col-9\">\n        <p className=\"mb-0\">{notification.name}</p>\n            </div>\n          </div>\n          )\n        })}\n        <div className=\"my-2 border-bottom\"></div>\n      </>}\n      {ad.length > 0 && <>\n        <h4>{t('header.promotion.menu')}</h4>\n        <>{ad.map((notification, index)=>{\n          return(\n          <div className=\"row\" key={index}>\n            <div className=\"col-3\">\n            <img className=\"w-100 rounded\" src={notification.image ? notification.image.public_url : INITIAL_IMAGE} alt={index}></img>\n            </div>\n            <div className=\"col-9\">\n        <p className=\"mb-0\">{notification.name}</p>\n            </div>\n          </div>\n          )\n        })}</>\n        <div div className=\"my-2 border-bottom\"></div>\n      </>}\n      {installment.length > 0 && <>\n        <h4>{t('header.installment.menu')}</h4>\n        {installment.map((notification, index)=>{\n          return(\n          <div className=\"row\" key={index}>\n            <div className=\"col-3\">\n            <img className=\"w-100 rounded\" src={notification.image ? notification.image.public_url : INITIAL_IMAGE} alt={index}></img>\n            </div>\n            <div className=\"col-9\">\n        <p className=\"mb-0\">{notification.name}</p>\n            </div>\n          </div>\n          )\n        })}\n      </>}\n      </>\n    )\n  }\n\n  onReload = () => {\n    this.setState({edit: false})\n    setTimeout(()=>{\n      window.location.reload(false);\n    }, 500);\n  }\n\n  render() {\n    const MenuLink = ({ label, image, to, activeOnlyWhenExact, onClick, last }) => {\n      return (\n        <Route path={to} exact={activeOnlyWhenExact} children={({ match }) => {\n          var active = match ? 'active' : '';\n          var border = last ? '' : 'border-right'\n          return (\n            <li className={`nav-item ${border} ${active}`}>\n              <Link onClick={onClick} exact={`${activeOnlyWhenExact}`} className=\"nav-link rounded p-1\" to={to}><img src={image} alt=\"\" style={{height: '40px'}}></img><p className=\"mb-0 float-end ml-2 mr-1 py-2\">{label}</p></Link>\n            </li>\n          )\n        }} />\n      )\n    }\n    const { total, totalPrice, currencyCode, language, keyword, itemsCount, edit }=this.state;\n    const {userInfo, isLogin, listCategories, t, listProducts, currency, location, listNotification, cart} = this.props;\n    const notVND = currencyCode===\"VND\" ? numberWithCommas(totalPrice) : numberWithCommas(parseFloat(tryConvert(totalPrice, currencyCode, false)).toFixed(2));\n    return (\n      <>\n        <div className=\"header-area\">\n          <div className=\"container\">\n            <div className=\"row\">\n              <div className=\"col-md-8\">\n                <div className=\"user-menu\">\n                  <ul>\n                    {userInfo && <>\n                      <li>\n                        <a href=\"/#/account/detail\" className=\"text-decoration-none\">\n                          <FontAwesomeIcon icon={faUser} /> {userInfo.firstname} {userInfo.lastname}\n                        </a>\n                      </li>\n                      <li>\n                        <a href=\"/#/account/notification\" className=\"text-decoration-none\" data-tip data-for='notification'>\n                          <i className=\"fa fa-bell\"></i> {t('header.notification.menu')}\n                          {itemsCount > 0 && <span className=\"notification-count ml-1 pl-1\">{itemsCount}</span>}\n                        </a>\n                        <ReactTooltip id='notification' place=\"bottom\" type=\"light\" class=\"shadow-sm bg-white\" effect=\"solid\" getContent={(dataTip) => \n                          {\n                            return (\n                              <div>\n                                <h3 className=\"mb-1\">{t('header.notification.menu')}</h3>\n                                <div className=\"mb-2 border-bottom\"></div>\n                                {listNotification && listNotification.length > 0 ? <>{this.sortNotification(listNotification)}</>\n                                : <div className=\"row\">\n                                  <div className=\"col-12 text-center\">\n                                    <div className=\"h-120\">\n                                      <img className=\"h-100\" src=\"https://deo.shopeemobile.com/shopee/shopee-pcmall-live-sg/assets/fa4e2b534c2928596a6deded9c730a21.png\" alt=\"404 not found\"></img>\n                                    </div>\n                                    <p className=\"my-3\">{t('header.notification.empty')}</p>\n                                  </div>  \n                                </div>}\n                              </div> \n                            )\n                          }\n                        }/>\n                      </li>\n                    </>}\n                    {isLogin===false\n                    ? <>\n                        <li>\n                          <a href=\"/user/dang-nhap\" className=\"text-decoration-none\">\n                            <i className=\"fa fa-sign-in-alt\"></i> {t('header.login.button')}\n                            </a>\n                          </li>\n                        <li>\n                          <a href=\"/user/dang-ky\"  className=\"text-decoration-none\">\n                            <i className=\"fa fa-user-plus\"></i> {t('header.signup.button')}\n                          </a>\n                        </li>\n                      </>\n                    : <li><button type=\"button\" className=\"btn-logout\" style={{'outline': 'none'}} onClick={() => this.setLogout()}><i className=\"fa fa-sign-out-alt\"></i> {t('header.logout.button')}</button></li>}\n                  </ul>\n                </div>\n              </div>\n\n              <div className=\"col-md-4\">\n                <div className=\"header-right\">\n                  <ul className=\"list-inline \">\n                    <li className=\"dropdown dropdown-small\">\n                    <i className=\"fa fa-money-bill-wave\"></i>\n                    <select className=\"select-box\" onChange={this.handleChangeCurrency} value={currencyCode}>\n                      <option value=\"VND\">{t('header.vnd.select')}</option>\n                     \n                    </select>\n                    </li>\n                    <li className=\"dropdown dropdown-small\">\n                    <i className=\"fa fa-globe-europe\"></i>\n                    <select className=\"select-box\" onChange={this.changeLanguage} value={language}>\n                      <option value=\"en\" name=\"language\">{t('header.english.select')}</option>\n                      <option value=\"vn\" name=\"language\">{t('header.vietnamese.select')}</option>\n                    </select>\n                    </li>\n                  </ul>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"site-branding-area\">\n          <div className=\"container\">\n            <div className=\"row\">\n              <div className=\"col-sm-6 col-md-5 col-lg-4 col-xl-3\">\n                <div className=\"logo\">\n                  <Link to=\"/\"><img src={assets(\"brand.png\")} alt=\"\" className=\"w-100\" /></Link>\n                </div>\n              </div>\n              <div className=\"col-md-6 col-12 align-self-center py-1\">\n                <div className=\"input-group shadow-sm rounded-pill position-relative\">\n                  <input type=\"text\" className=\"form-control rounded-pill\" value={keyword} name=\"keyword\" onKeyPress={this.pressSearch} onChange={this.handleFilter} \n                  placeholder={t('search.placeholder.input')} onFocus={()=> this.setState({edit: true})}></input>\n                  <div className=\"input-group-append position-absolute btn-circle\" style={{right: '5px', top: '5px'}}>\n                    <button className=\"btn btn-danger h-100 rounded-circle p-revert\" onClick={() => this.searchKeyWorld()}><i className=\"fa fa-search\"></i></button>\n                  </div>\n                </div>\n                <div style={{ position: \"absolute\", width: \"95%\" }}>\n                  {listProducts && listProducts.length > 0 && keyword && edit &&\n                  <div className=\"card py-2 shadow-sm\" style={{ zIndex: 5}}>\n                  <><h4 className=\"mb-0 mx-3\">{t(\"header.search.recommended\")}</h4>\n                  {listProducts.map((product, index) =>{\n                    return (\n                      <Link to={`/product/${product.pathseo}.${product._id}`} className=\"text-decoration-none directory rounded p-2 mx-2\" key={index}\n                      onClick={()=> this.onReload()} style={{textDecoration: 'none'}}>\n                      <div className=\"row text-dark text-decoration-none \" style={{height: \"60px\"}}>\n                        <div className=\"col-3 my-auto\">\n                          <><img style={{height: \"60px\"}} src={product.bigimage.public_url} alt={product.name}></img></>\n                        </div>\n                        <div className=\"col-9 text-left my-auto\">\n                          <p className=\"mb-0\">{product.name}</p>\n                          <p className=\"mb-0 smaller text-secondary\">{currency===\"VND\" ? product.price_min : parseFloat(tryConvert(product.price_min, currency, false)).toFixed(2)} {currency}</p>\n                        </div>\n                      </div>\n                      </Link>\n                    )\n                  })}</>\n                  </div>}\n                </div>\n              </div>\n              <div className=\"col-12 col-xl-3 align-self-center py-1\">\n                <div className=\"shopping-item rounded-pill shadow-sm\">\n                  <Link to=\"/carts\" className=\"text-decoration-none\" data-tip data-for='cart'>\n                    <span className=\"rounded-circle bg-danger\" style={{padding: \"0.15rem 0.25rem\"}}><i className=\"fa fa-shopping-cart text-white\"></i></span>  <span className=\"cart-amunt\">{notVND ? `${notVND} ${currencyCode}` : \"Empty\"}</span> \n                    <span className=\"product-count\">{total}</span>\n                  </Link>\n                  <ReactTooltip id='cart' place=\"bottom\" type=\"light\" class=\"shadow-sm bg-white\" effect=\"solid\" getContent={(dataTip) => \n                    <div>\n                      <h3 className=\"mb-1\">{t('header.cart.button')}</h3>\n                      <div className=\"mb-2 border-bottom\"></div>\n                      {cart && cart.length > 0 ? cart.map((item, index)=>{\n                        return(\n                        <div className=\"row\" key={index}>\n                          <div className=\"col-3\">\n                          <img className=\"w-100 rounded\" src={item.product.bigimage ? item.product.bigimage.public_url : INITIAL_IMAGE} alt={index}></img>\n                          </div>\n                          <div className=\"col-9\">\n                      <p className=\"font-weight-bold mb-0\">{item.product.name}</p>\n                      <p className=\"mb-0\">{t('common.color')} {item.product.colors.find(i => i._id === item.color).name_en}</p>\n                          </div>\n                        </div>\n                        )\n                      })\n                    : <div className=\"row\">\n                      <div className=\"col-12 text-center\">\n                        <div className=\"h-120\">\n                          <img className=\"h-100\" src=\"https://deo.shopeemobile.com/shopee/shopee-pcmall-live-sg/cart/9bdd8040b334d31946f49e36beaf32db.png\" alt=\"404 not found\"></img>\n                        </div>\n                        <p className=\"my-3\">{t('header.cart.empty')}</p>\n                      </div>  \n                    </div>}\n                    </div> \n                  }/>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"mainmenu-area bg-light\">\n          <div className=\"container\">\n            <div className=\"row\">\n              <nav className=\"navbar navbar-expand-sm navbar-light\">\n                <button className=\"navbar-toggler d-lg-none\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#collapsibleNavId\" aria-controls=\"collapsibleNavId\"\n                  aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n                  <span className=\"navbar-toggler-icon\"></span>\n                </button>\n                <div className=\"collapse navbar-collapse py-2\" id=\"collapsibleNavId\">\n                  <ul className=\"navbar-nav mr-auto mt-lg-0\">\n                    <MenuLink image={assets(\"online-shop.png\")} label={t('header.home.menu')} to=\"/\" activeOnlyWhenExact={true}/>\n                    {location.hash.indexOf(\"account\") === -1 && listCategories && <>\n                      {listCategories.map((category, index)=>{\n                        return (\n                          <MenuLink key={index} image={category.image.public_url} label={language ===\"vn\" ? category.name : category.name_en} to={`/products/${category.pathseo}.${category._id}`} activeOnlyWhenExact={true} />\n                        )\n                      })}\n                      <MenuLink image={assets(\"module.png\")} label={t('header.accessories.menu')} to={\"/products/accessories\"} activeOnlyWhenExact={true} />\n                      <MenuLink image={assets(\"web-advertising.png\")} last={true} label={t('header.promotion.menu')} to={\"/promotion\"} activeOnlyWhenExact={true} />\n                    </>}\n                    {location.hash.indexOf(\"account\") !== -1 &&<>\n                    <MenuLink image={assets(\"user-menu.png\")} label={t('header.account.menu')} to={\"/account/detail\"} activeOnlyWhenExact={true} />\n                    <MenuLink image={assets(\"paid-search.png\")} label={t('header.order.menu')} to={\"/account/purchase\"} activeOnlyWhenExact={true} />\n                    <MenuLink image={assets(\"credit-card-interest.png\")} label={t('header.installment.menu')} to={\"/account/installment\"} activeOnlyWhenExact={true} />\n                    <MenuLink image={assets(\"push-notifications.png\")} last={true} label={t('header.notification.menu')} to={\"/account/notification\"} activeOnlyWhenExact={true} /></>}\n                  </ul>\n                </div>\n              </nav>\n            </div>\n          </div>\n          {/* <MessengerCustomerChat\n            pageId=\"104334418256109\"\n            appId=\"804609327113718\"\n            htmlRef=\"https://localhost:5000\"\n          />  */}\n          <Widget\n            socketUrl={\"http://localhost:5005\"}\n            socketPath={\"/socket.io/\"}\n            customData={{\"language\": \"en\"}} // arbitrary custom data. Stay minimal as this will be added to the socket\n            title={\"Apum Store - Mobile Shopping Online\"}\n            profileAvatar={assets(\"logo_fe.png\")}\n          />\n        </div>\n      </>\n    );\n  }\n}\n\nconst mapStateToProps = (state) =>{\n  return {\n    cart: state.cart,\n    listProducts: state.products.filter,\n    currency: state.currency,\n    userInfo: state.auth.detail,\n    isLogin: state.auth.loggedIn,\n    listCategories: state.categories.list,\n    listNotification: state.notification.detail,\n    totalNotification: state.notification._total,\n  }\n}\n\nconst mapDispatchToProps =(dispatch)=> {\n\treturn {\n    onFilter: (payload) => {\n      dispatch(ProductsActions.onFilter(payload));\n    },\n\t\tonGetProfile : (data, headers) =>{\n\t\t\tdispatch(AuthorizationActions.onGetProfile(data, headers))\n    },\n    onLogout : ()=>{\n      dispatch(AuthorizationActions.onLogout())\n    },\n    onGetListCategory: (params) => {\n      dispatch(CategoryActions.onGetList(params))\n    },\n    onChangeLanguage: (payload) => {\n      dispatch(ProductsActions.onChangeLanguage(payload));\n    },\n    onChangeCurrency: (unit) => {\n      dispatch(ProductsActions.onChangeCurrency(unit));\n    },\n    onGetNewestNotifications : (params) =>{\n\t\t\tdispatch(NotificationActions.onGetNewest(params))\n    },\n    onUpdateAllNotifications : (data) =>{\n\t\t\tdispatch(NotificationActions.onUpdateAll(data))\n    },\n\t}\n};\nconst withConnect = connect(mapStateToProps, mapDispatchToProps)\n\nexport default compose(\n  withConnect,\n  withTranslation()\n)(Header);"]},"metadata":{},"sourceType":"module"}